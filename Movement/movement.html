<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Title</title>
	<script src="player.js"> </script>
	<script src="gravityField.js"> </script>
	<script src="simulation.js"> </script>
	<script src="../MyLib/vector2D.js"> </script>
	<script>

		var canvas = document.createElement("canvas");
		canvas.width = 400;
		canvas.height = 400;

		var c = canvas.getContext("2d");

		var player = new Player(20, canvas.height/2),
			playerSpeed = 0.2,
			moveUp = false,
			moveDown = false,
			moveRight = false
			moveLeft = false,
			moveForce = new Vector2D(0,0);

		var	gravity = new Vector2D(0, 0.1),
			gravityOn = true,
			maxSpeed = 20,
			edgeFriction = 0.9,
			edgeBounce = 0.8,
			airDragConst = 0.01;
	
		var antiGravity = [];
		var antiGravityNum = 2;
		for (let i = 0; i < antiGravityNum; i++) {
			if (i % 2 == 0) {
			antiGravity[i] = new GravityField(50 + i*100, 0, 50, canvas.height, 
							-2*gravity.x, -2*gravity.y, (i+1)*75);
			}
			else {
			antiGravity[i] = new GravityField(0, 50 + i*100, canvas.width, 50, 
							2*gravity.y, -2*gravity.x, 360);
			}
		}
		
		window.onload = function() {
			document.body.appendChild(canvas);
			
			player.vel = new Vector2D(4, -5);

			Simulation.then = Date.now();
			Simulation.frame();
			
		}
		
		function drawBackground() {
			c.fillStyle = "black";
			c.fillRect(0, 0, canvas.width, canvas.height);
			for (let i = 0; i < antiGravityNum; i++) {
				c.fillStyle = "hsla(120, 100%, 50%, 0.5)";
				c.fillRect(antiGravity[i].pos.x, antiGravity[i].pos.y, 
						   antiGravity[i].width, antiGravity[i].height);
			}
		}

	</script>
</head>
<body>

</body>
</html>
